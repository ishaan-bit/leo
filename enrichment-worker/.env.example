# Enrichment Worker Environment Variables
# Copy to .env and fill in your values

# === Redis (Upstash) ===
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_token_here

# Redis Keys
REFLECTIONS_NORMALIZED_KEY=reflections:normalized
REFLECTIONS_ENRICHED_KEY=reflections:enriched
WORKER_STATUS_KEY=worker:status

# === Ollama ===
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=phi3:latest
OLLAMA_TIMEOUT=30

# === Worker Config ===
WORKER_POLL_MS=500
WORKER_BATCH_SIZE=5
BASELINE_BLEND=0.35
LOG_LEVEL=info

# === Timezone ===
TIMEZONE=Asia/Kolkata

# === Health Check Server ===
HEALTH_PORT=8001
HEALTH_HOST=0.0.0.0

# === Analytics Config ===
# Temporal EMAs
EMA_WINDOWS=1,7,28

# Z-score baseline
ZSCORE_WINDOW_DAYS=90

# Recursion
RECURSION_ENABLED=true
RECURSION_MAX_LINKS=5
RECURSION_SIMILARITY_THRESHOLD=0.7

# Willingness scoring
WILLINGNESS_ENABLED=true

# Weak risk signals
RISK_SIGNALS_ENABLED=true
RISK_ANERGY_THRESHOLD=3
RISK_IRRITATION_THRESHOLD=3
RISK_WINDOW_DAYS=5
